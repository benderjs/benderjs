<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Bender.js Dashboard</title>
    <link rel="stylesheet" href="dashboard.css">

    <script id="clients-tmpl" type="text/x-dot-template">
    {{? it.clients.length }}
        {{~ it.clients :client }}
            <li class="{{= client.browser }}">
                {{= client.ua }}
                {{? client.busy }}<span class="busy"></span>
                {{??}}<span class="waiting"></span>
                {{?}}
            </li>
        {{~}}
    {{??}}
        <li>no browsers connected</li>
    {{?}}
    </script>

    <script id="tests-tmpl" type="text/x-dot-template">
    <thead>
        <tr>
            <th></th>
            <th>ID</th>
            <th>Tags</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        {{= it.html }}
    </tbody>
    </script>

    <script id="group-tmpl" type="text/x-dot-template">
    <tr class="group">
        <td><input type="checkbox" checked="checked" class="toggle"></td>
        <td colspan="2"><span>Group:</span> {{= it.name }}</td>
        <td></td>
    </tr>
    </script>

    <script id="test-tmpl" type="text/x-dot-template">
    <tr>
        <td><input type="checkbox" name="{{= it.id }}" checked="checked"></td>
        <td><a href="/single/{{= it.id }}" title="Run locally">{{= it.id }}</a></td>
        <td>{{= it.tags.join(', ') }}</td>
        <td class="result" data-id="{{= it.id }}"></td>
    </tr>
    </script>

    <script id="result-tmpl" type="text/x-dot-template">
    {{= it.passed }} passed / {{= it.failed }} failed in {{= it.runtime }}ms
    </script>
</head>
<body>
    <iframe src="about:blank" id="context"></iframe>
    <header>
        <h1 class="title">Bender.js Dashboard <span></span></h1>
        <a href="/capture" class="btn capture" title="Capture this browser">Capture</a>
        <button id="run" class="btn run" title="Run selected tests">Run</button>
        <button id="create" class="btn create" title="Create new job">Create new job</button>
        <ul id="menu" class="menu">
            <li><a href="#tests" class="selected">Tests</a></li>
            <li><a href="#jobs">Jobs</a></li>
            <li><a href="#browsers">Browsers</a></li>
        </ul>
    </header>
    <main>
        <section id="tests">
            <table cellspacing="0" cellpadding="0" id="testsTable" class="loading"></table>
        </section>
        <section id="jobs" class="hidden">
            
        </section>
        <section id="browsers" class="hidden">
            <ul class="clients"></ul>
        </section>
    </main>
    <script src="doT.min.js"></script>
    <script src="jquery.1.11.0.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script src="dashboard.js"></script>
</body>
</html>
