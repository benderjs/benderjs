<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Bender.js Dashboard</title>
    <link rel="stylesheet" href="dashboard.css">

    <script id="clients-tmpl" type="text/x-dot-template">
    {{? it.clients.length }}
        {{~ it.clients :client }}
            <li class="{{= client.browser }}">
                {{= client.ua }}
                {{? client.busy }}<span class="busy"></span>
                {{??}}<span class="waiting"></span>
                {{?}}
            </li>
        {{~}}
    {{??}}
        <li>no clients connected</li>
    {{?}}
    </script>

    <script id="tests-tmpl" type="text/x-dot-template">
    <thead>
        <tr>
            <th></th>
            <th>Status</th>
            <th>ID</th>
            <th>Tags</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
    </tbody>
    </script>

    <script id="group-tmpl" type="text/x-dot-template">
    <tr class="group">
        <td><input type="checkbox" checked="checked" class="toggle"></td>
        <td colspan="2"><span>Group:</span> {{= it.name }}</td>
        <td></td>
        <td></td>
    </tr>
    </script>

    <script id="test-tmpl" type="text/x-dot-template">
    <tr>
        <td><input type="checkbox" name="{{= it.id }}" checked="checked"></td>
        <td class="status ready"></td>
        <td>{{= it.id }}</td>
        <td>{{= it.tags.join(', ') }}</td>
        <td>
            <button class="btn run" data-id="{{= it.id }}" title="Run on all clients"></button>
            <a href="/single/{{= it.id}}" title="Run locally" class="btn single"></a>
        </td>
    </tr>
    </script>

    <script id="results-tmpl" type="text/x-dot-template">
    <thead>
        <tr>
            <th>ID</th>
            {{~ it.clients :client }}
            <th class="result {{= client.browser }}" title="{{= client.ua }}"></th>
            {{~}}
            <th></th>
        </tr>
    </thead>
    <tbody>
        {{= it.html }}
    </tbody>
    </script>

    <script id="result-tmpl" type="text/x-dot-template">
    <tr data-id="{{= it.id }}">
        <td>{{= it.id }}</td>
        {{= it.clients }}
        <td></td>
    </tr>
    </script>

    <script id="client-tmpl" type="text/x-dot-template">
    {{~ it.clients :client }}
        <td class="result" data-id="{{= client.id }}"></td>
    {{~}}
    </script>

</head>
<body>
    <header>
        <h1 class="title">Bender.js Dashboard</h1>
        <a href="/capture" class="btn capture" title="Capture browser">Capture</a>
        <button id="run" class="btn disabled run" title="Run selected tests">Run</button>
    </header>
    <main>
        <ul id="menu" class="menu">
            <li><a href="#tests" class="selected">Tests</a></li>
            <li><a href="#jobs">Jobs</a></li>
            <li><a href="#results">Results</a></li>
            <li><a href="#slaves">Slaves</a></li>
        </ul>
        <section id="tests">
            <table cellspacing="0" cellpadding="0" id="testsTable" class="loading"></table>
        </section>
        <section id="jobs" class="hidden"></section>
        <section id="results" class="hidden">
            <table cellspacing="0" cellpadding="0" id="resultsTable"></table>
        </section>
        <section id="slaves" class="hidden">
            <ul id="clients" class="clients"></ul>
        </section>
    </main>
    <script src="doT.min.js"></script>
    <script src="jquery.1.11.0.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script src="dashboard.js"></script>
</body>
</html>
